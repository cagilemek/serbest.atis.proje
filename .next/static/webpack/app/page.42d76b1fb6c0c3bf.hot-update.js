"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useStacksConnect.ts":
/*!***********************************!*\
  !*** ./hooks/useStacksConnect.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStacksConnect: function() { return /* binding */ useStacksConnect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stacks_connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stacks/connect */ \"(app-pages-browser)/./node_modules/@stacks/connect/node_modules/@stacks/auth/dist/esm/appConfig.js\");\n/* harmony import */ var _stacks_connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stacks/connect */ \"(app-pages-browser)/./node_modules/@stacks/connect/node_modules/@stacks/auth/dist/esm/userSession.js\");\n/* harmony import */ var _stacks_connect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stacks/connect */ \"(app-pages-browser)/./node_modules/@stacks/connect/dist/index.mjs\");\n/* harmony import */ var _stacks_network__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stacks/network */ \"(app-pages-browser)/./node_modules/@stacks/network/dist/esm/network.js\");\n/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @stacks/transactions */ \"(app-pages-browser)/./node_modules/@stacks/transactions/dist/esm/clarity/values/listCV.js\");\n/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @stacks/transactions */ \"(app-pages-browser)/./node_modules/@stacks/transactions/dist/esm/clarity/values/booleanCV.js\");\n/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @stacks/transactions */ \"(app-pages-browser)/./node_modules/@stacks/transactions/dist/esm/constants.js\");\n/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @stacks/transactions */ \"(app-pages-browser)/./node_modules/@stacks/transactions/dist/esm/index.js\");\n/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stacks/transactions */ \"(app-pages-browser)/./node_modules/@stacks/transactions/dist/esm/clarity/values/principalCV.js\");\n/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @stacks/transactions */ \"(app-pages-browser)/./node_modules/@stacks/transactions/dist/esm/clarity/clarityValue.js\");\n/* __next_internal_client_entry_do_not_use__ useStacksConnect auto */ \n\n\n\nconst appConfig = new _stacks_connect__WEBPACK_IMPORTED_MODULE_1__.AppConfig([\n    \"store_write\",\n    \"publish_data\"\n]);\nconst userSession = new _stacks_connect__WEBPACK_IMPORTED_MODULE_2__.UserSession({\n    appConfig\n});\n// Demo mode - set to true for testing without deployed contract\nconst DEMO_MODE = true;\nfunction useStacksConnect() {\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const network = new _stacks_network__WEBPACK_IMPORTED_MODULE_3__.StacksTestnet();\n    const contractAddress = \"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM\";\n    const contractName = \"basketball-game\";\n    // Demo game state for testing\n    const [demoGameState, setDemoGameState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        predictions: [],\n        shots: [],\n        completed: false,\n        predictionsMatched: false,\n        balance: 0\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (userSession.isSignInPending()) {\n            userSession.handlePendingSignIn().then((userData)=>{\n                setUserData(userData);\n            });\n        } else if (userSession.isUserSignedIn()) {\n            setUserData(userSession.loadUserData());\n        }\n    }, []);\n    const connectWallet = ()=>{\n        (0,_stacks_connect__WEBPACK_IMPORTED_MODULE_4__.showConnect)({\n            appDetails: {\n                name: \"Serbest Atış Projesi\",\n                icon: \"/basketball-icon.png\"\n            },\n            redirectTo: \"/\",\n            onFinish: ()=>{\n                setUserData(userSession.loadUserData());\n            },\n            userSession\n        });\n    };\n    const disconnectWallet = ()=>{\n        userSession.signUserOut(\"/\");\n        setUserData(null);\n        setGameState(null);\n        setDemoGameState({\n            predictions: [],\n            shots: [],\n            completed: false,\n            predictionsMatched: false,\n            balance: 0\n        });\n    };\n    const startGame = async (predictions)=>{\n        if (!userData) return;\n        setIsLoading(true);\n        if (DEMO_MODE) {\n            // Demo mode - simulate blockchain interaction\n            setTimeout(()=>{\n                setDemoGameState({\n                    predictions,\n                    shots: [],\n                    completed: false,\n                    predictionsMatched: false,\n                    balance: demoGameState.balance\n                });\n                setGameState({\n                    predictions,\n                    shots: [],\n                    completed: false,\n                    predictionsMatched: false,\n                    balance: demoGameState.balance\n                });\n                setIsLoading(false);\n                console.log(\"Demo: Game started with predictions:\", predictions);\n            }, 1000);\n            return;\n        }\n        try {\n            const functionArgs = [\n                (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_5__.listCV)(predictions.map((p)=>(0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_6__.boolCV)(p)))\n            ];\n            await (0,_stacks_connect__WEBPACK_IMPORTED_MODULE_4__.openContractCall)({\n                network,\n                anchorMode: _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__.AnchorMode.Any,\n                contractAddress,\n                contractName,\n                functionName: \"start-game\",\n                functionArgs,\n                postConditionMode: _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__.PostConditionMode.Allow,\n                onFinish: (data)=>{\n                    console.log(\"Game started:\", data);\n                    fetchGameState();\n                }\n            });\n        } catch (error) {\n            console.error(\"Error starting game:\", error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const takeShots = async (shots)=>{\n        if (!userData) return;\n        setIsLoading(true);\n        if (DEMO_MODE) {\n            // Demo mode - simulate blockchain interaction\n            setTimeout(()=>{\n                const predictionsMatch = JSON.stringify(demoGameState.predictions) === JSON.stringify(shots);\n                const newBalance = predictionsMatch ? demoGameState.balance + 1000000 : demoGameState.balance;\n                const newGameState = {\n                    predictions: demoGameState.predictions,\n                    shots,\n                    completed: true,\n                    predictionsMatched: predictionsMatch,\n                    balance: newBalance\n                };\n                setDemoGameState(newGameState);\n                setGameState(newGameState);\n                setIsLoading(false);\n                if (predictionsMatch) {\n                    console.log(\"Demo: Perfect predictions! You earned 1 STX token!\");\n                } else {\n                    console.log(\"Demo: Game completed, but predictions didn't match.\");\n                }\n            }, 1000);\n            return;\n        }\n        try {\n            const functionArgs = [\n                (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_5__.listCV)(shots.map((s)=>(0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_6__.boolCV)(s)))\n            ];\n            await (0,_stacks_connect__WEBPACK_IMPORTED_MODULE_4__.openContractCall)({\n                network,\n                anchorMode: _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__.AnchorMode.Any,\n                contractAddress,\n                contractName,\n                functionName: \"take-shots\",\n                functionArgs,\n                postConditionMode: _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__.PostConditionMode.Allow,\n                onFinish: (data)=>{\n                    console.log(\"Shots taken:\", data);\n                    fetchGameState();\n                }\n            });\n        } catch (error) {\n            console.error(\"Error taking shots:\", error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const resetGame = async ()=>{\n        if (!userData) return;\n        setIsLoading(true);\n        if (DEMO_MODE) {\n            // Demo mode - reset game state\n            setTimeout(()=>{\n                setDemoGameState({\n                    predictions: [],\n                    shots: [],\n                    completed: false,\n                    predictionsMatched: false,\n                    balance: demoGameState.balance\n                });\n                setGameState({\n                    predictions: [],\n                    shots: [],\n                    completed: false,\n                    predictionsMatched: false,\n                    balance: demoGameState.balance\n                });\n                setIsLoading(false);\n                console.log(\"Demo: Game reset!\");\n            }, 500);\n            return;\n        }\n        try {\n            await (0,_stacks_connect__WEBPACK_IMPORTED_MODULE_4__.openContractCall)({\n                network,\n                anchorMode: _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__.AnchorMode.Any,\n                contractAddress,\n                contractName,\n                functionName: \"reset-game\",\n                functionArgs: [],\n                postConditionMode: _stacks_transactions__WEBPACK_IMPORTED_MODULE_7__.PostConditionMode.Allow,\n                onFinish: (data)=>{\n                    console.log(\"Game reset:\", data);\n                    fetchGameState();\n                }\n            });\n        } catch (error) {\n            console.error(\"Error resetting game:\", error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const fetchGameState = async ()=>{\n        if (!userData) return;\n        if (DEMO_MODE) {\n            // Demo mode - use local state\n            setGameState(demoGameState);\n            return;\n        }\n        try {\n            const result = await (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_8__.callReadOnlyFunction)({\n                network,\n                contractAddress,\n                contractName,\n                functionName: \"get-game-stats\",\n                functionArgs: [\n                    (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_9__.principalCV)(userData.profile.stxAddress.testnet)\n                ],\n                senderAddress: userData.profile.stxAddress.testnet\n            });\n            const gameData = (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_10__.cvToJSON)(result);\n            if (gameData.success && gameData.value) {\n                var _data_predictions_value, _data_predictions, _data_shots_value, _data_shots, _data_completed, _data_predictionsmatched, _data_balance;\n                const data = gameData.value;\n                setGameState({\n                    predictions: ((_data_predictions = data.predictions) === null || _data_predictions === void 0 ? void 0 : (_data_predictions_value = _data_predictions.value) === null || _data_predictions_value === void 0 ? void 0 : _data_predictions_value.map((p)=>p.value)) || [],\n                    shots: ((_data_shots = data.shots) === null || _data_shots === void 0 ? void 0 : (_data_shots_value = _data_shots.value) === null || _data_shots_value === void 0 ? void 0 : _data_shots_value.map((s)=>s.value)) || [],\n                    completed: ((_data_completed = data.completed) === null || _data_completed === void 0 ? void 0 : _data_completed.value) || false,\n                    predictionsMatched: ((_data_predictionsmatched = data[\"predictions-matched\"]) === null || _data_predictionsmatched === void 0 ? void 0 : _data_predictionsmatched.value) || false,\n                    balance: Number((_data_balance = data.balance) === null || _data_balance === void 0 ? void 0 : _data_balance.value) || 0\n                });\n            }\n        } catch (error) {\n            console.error(\"Error fetching game state:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (userData) {\n            if (DEMO_MODE) {\n                setGameState(demoGameState);\n            } else {\n                fetchGameState();\n            }\n        }\n    }, [\n        userData,\n        demoGameState\n    ]);\n    return {\n        userData,\n        isLoading,\n        gameState,\n        connectWallet,\n        disconnectWallet,\n        startGame,\n        takeShots,\n        resetGame,\n        fetchGameState,\n        isConnected: !!userData\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZVN0YWNrc0Nvbm5lY3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztzRUFFNEM7QUFNbkI7QUFJQTtBQVVLO0FBRTlCLE1BQU1jLFlBQVksSUFBSVosc0RBQVNBLENBQUM7SUFBQztJQUFlO0NBQWU7QUFDL0QsTUFBTWEsY0FBYyxJQUFJWix3REFBV0EsQ0FBQztJQUFFVztBQUFVO0FBRWhELGdFQUFnRTtBQUNoRSxNQUFNRSxZQUFZO0FBVVgsU0FBU0M7SUFDZCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR25CLCtDQUFRQSxDQUFNO0lBQzlDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3NCLFdBQVdDLGFBQWEsR0FBR3ZCLCtDQUFRQSxDQUFtQjtJQUU3RCxNQUFNd0IsVUFBVSxJQUFJbEIsMERBQWFBO0lBQ2pDLE1BQU1tQixrQkFBa0I7SUFDeEIsTUFBTUMsZUFBZTtJQUVyQiw4QkFBOEI7SUFDOUIsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBRzVCLCtDQUFRQSxDQUFZO1FBQzVENkIsYUFBYSxFQUFFO1FBQ2ZDLE9BQU8sRUFBRTtRQUNUQyxXQUFXO1FBQ1hDLG9CQUFvQjtRQUNwQkMsU0FBUztJQUNYO0lBRUFoQyxnREFBU0EsQ0FBQztRQUNSLElBQUljLFlBQVltQixlQUFlLElBQUk7WUFDakNuQixZQUFZb0IsbUJBQW1CLEdBQUdDLElBQUksQ0FBQyxDQUFDbEI7Z0JBQ3RDQyxZQUFZRDtZQUNkO1FBQ0YsT0FBTyxJQUFJSCxZQUFZc0IsY0FBYyxJQUFJO1lBQ3ZDbEIsWUFBWUosWUFBWXVCLFlBQVk7UUFDdEM7SUFDRixHQUFHLEVBQUU7SUFFTCxNQUFNQyxnQkFBZ0I7UUFDcEJuQyw0REFBV0EsQ0FBQztZQUNWb0MsWUFBWTtnQkFDVkMsTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1lBQ0FDLFlBQVk7WUFDWkMsVUFBVTtn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QVU7WUFDWixJQUFJRixXQUFXO2dCQUNiTyxhQUFhSTtZQUNmLE9BQU87Z0JBQ0xpQztZQUNGO1FBQ0Y7SUFDRixHQUFHO1FBQUMxQztRQUFVUztLQUFjO0lBRTVCLE9BQU87UUFDTFQ7UUFDQUU7UUFDQUU7UUFDQWlCO1FBQ0FNO1FBQ0FFO1FBQ0FlO1FBQ0FPO1FBQ0FUO1FBQ0FtQixhQUFhLENBQUMsQ0FBQzdEO0lBQ2pCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vaG9va3MvdXNlU3RhY2tzQ29ubmVjdC50cz8wMjg0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFxuICBBcHBDb25maWcsIFxuICBVc2VyU2Vzc2lvbiwgXG4gIHNob3dDb25uZWN0LFxuICBvcGVuQ29udHJhY3RDYWxsLFxufSBmcm9tICdAc3RhY2tzL2Nvbm5lY3QnO1xuaW1wb3J0IHtcbiAgU3RhY2tzVGVzdG5ldCxcbiAgU3RhY2tzTWFpbm5ldCxcbn0gZnJvbSAnQHN0YWNrcy9uZXR3b3JrJztcbmltcG9ydCB7XG4gIEFuY2hvck1vZGUsXG4gIFBvc3RDb25kaXRpb25Nb2RlLFxuICBzdHJpbmdBc2NpaUNWLFxuICBsaXN0Q1YsXG4gIGJvb2xDVixcbiAgcHJpbmNpcGFsQ1YsXG4gIGNhbGxSZWFkT25seUZ1bmN0aW9uLFxuICBjdlRvSlNPTixcbn0gZnJvbSAnQHN0YWNrcy90cmFuc2FjdGlvbnMnO1xuXG5jb25zdCBhcHBDb25maWcgPSBuZXcgQXBwQ29uZmlnKFsnc3RvcmVfd3JpdGUnLCAncHVibGlzaF9kYXRhJ10pO1xuY29uc3QgdXNlclNlc3Npb24gPSBuZXcgVXNlclNlc3Npb24oeyBhcHBDb25maWcgfSk7XG5cbi8vIERlbW8gbW9kZSAtIHNldCB0byB0cnVlIGZvciB0ZXN0aW5nIHdpdGhvdXQgZGVwbG95ZWQgY29udHJhY3RcbmNvbnN0IERFTU9fTU9ERSA9IHRydWU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZVN0YXRlIHtcbiAgcHJlZGljdGlvbnM6IGJvb2xlYW5bXTtcbiAgc2hvdHM6IGJvb2xlYW5bXTtcbiAgY29tcGxldGVkOiBib29sZWFuO1xuICBwcmVkaWN0aW9uc01hdGNoZWQ6IGJvb2xlYW47XG4gIGJhbGFuY2U6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0YWNrc0Nvbm5lY3QoKSB7XG4gIGNvbnN0IFt1c2VyRGF0YSwgc2V0VXNlckRhdGFdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0ZSB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IG5ldHdvcmsgPSBuZXcgU3RhY2tzVGVzdG5ldCgpO1xuICBjb25zdCBjb250cmFjdEFkZHJlc3MgPSAnU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00nO1xuICBjb25zdCBjb250cmFjdE5hbWUgPSAnYmFza2V0YmFsbC1nYW1lJztcblxuICAvLyBEZW1vIGdhbWUgc3RhdGUgZm9yIHRlc3RpbmdcbiAgY29uc3QgW2RlbW9HYW1lU3RhdGUsIHNldERlbW9HYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXRlPih7XG4gICAgcHJlZGljdGlvbnM6IFtdLFxuICAgIHNob3RzOiBbXSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHByZWRpY3Rpb25zTWF0Y2hlZDogZmFsc2UsXG4gICAgYmFsYW5jZTogMCxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlclNlc3Npb24uaXNTaWduSW5QZW5kaW5nKCkpIHtcbiAgICAgIHVzZXJTZXNzaW9uLmhhbmRsZVBlbmRpbmdTaWduSW4oKS50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgICBzZXRVc2VyRGF0YSh1c2VyRGF0YSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHVzZXJTZXNzaW9uLmlzVXNlclNpZ25lZEluKCkpIHtcbiAgICAgIHNldFVzZXJEYXRhKHVzZXJTZXNzaW9uLmxvYWRVc2VyRGF0YSgpKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBjb25uZWN0V2FsbGV0ID0gKCkgPT4ge1xuICAgIHNob3dDb25uZWN0KHtcbiAgICAgIGFwcERldGFpbHM6IHtcbiAgICAgICAgbmFtZTogJ1NlcmJlc3QgQXTEscWfIFByb2plc2knLFxuICAgICAgICBpY29uOiAnL2Jhc2tldGJhbGwtaWNvbi5wbmcnLFxuICAgICAgfSxcbiAgICAgIHJlZGlyZWN0VG86ICcvJyxcbiAgICAgIG9uRmluaXNoOiAoKSA9PiB7XG4gICAgICAgIHNldFVzZXJEYXRhKHVzZXJTZXNzaW9uLmxvYWRVc2VyRGF0YSgpKTtcbiAgICAgIH0sXG4gICAgICB1c2VyU2Vzc2lvbixcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBkaXNjb25uZWN0V2FsbGV0ID0gKCkgPT4ge1xuICAgIHVzZXJTZXNzaW9uLnNpZ25Vc2VyT3V0KCcvJyk7XG4gICAgc2V0VXNlckRhdGEobnVsbCk7XG4gICAgc2V0R2FtZVN0YXRlKG51bGwpO1xuICAgIHNldERlbW9HYW1lU3RhdGUoe1xuICAgICAgcHJlZGljdGlvbnM6IFtdLFxuICAgICAgc2hvdHM6IFtdLFxuICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgIHByZWRpY3Rpb25zTWF0Y2hlZDogZmFsc2UsXG4gICAgICBiYWxhbmNlOiAwLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0R2FtZSA9IGFzeW5jIChwcmVkaWN0aW9uczogYm9vbGVhbltdKSA9PiB7XG4gICAgaWYgKCF1c2VyRGF0YSkgcmV0dXJuO1xuXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIGlmIChERU1PX01PREUpIHtcbiAgICAgIC8vIERlbW8gbW9kZSAtIHNpbXVsYXRlIGJsb2NrY2hhaW4gaW50ZXJhY3Rpb25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXREZW1vR2FtZVN0YXRlKHtcbiAgICAgICAgICBwcmVkaWN0aW9ucyxcbiAgICAgICAgICBzaG90czogW10sXG4gICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBwcmVkaWN0aW9uc01hdGNoZWQ6IGZhbHNlLFxuICAgICAgICAgIGJhbGFuY2U6IGRlbW9HYW1lU3RhdGUuYmFsYW5jZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAgICAgcHJlZGljdGlvbnMsXG4gICAgICAgICAgc2hvdHM6IFtdLFxuICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgcHJlZGljdGlvbnNNYXRjaGVkOiBmYWxzZSxcbiAgICAgICAgICBiYWxhbmNlOiBkZW1vR2FtZVN0YXRlLmJhbGFuY2UsXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnRGVtbzogR2FtZSBzdGFydGVkIHdpdGggcHJlZGljdGlvbnM6JywgcHJlZGljdGlvbnMpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uQXJncyA9IFtcbiAgICAgICAgbGlzdENWKHByZWRpY3Rpb25zLm1hcChwID0+IGJvb2xDVihwKSkpXG4gICAgICBdO1xuXG4gICAgICBhd2FpdCBvcGVuQ29udHJhY3RDYWxsKHtcbiAgICAgICAgbmV0d29yayxcbiAgICAgICAgYW5jaG9yTW9kZTogQW5jaG9yTW9kZS5BbnksXG4gICAgICAgIGNvbnRyYWN0QWRkcmVzcyxcbiAgICAgICAgY29udHJhY3ROYW1lLFxuICAgICAgICBmdW5jdGlvbk5hbWU6ICdzdGFydC1nYW1lJyxcbiAgICAgICAgZnVuY3Rpb25BcmdzLFxuICAgICAgICBwb3N0Q29uZGl0aW9uTW9kZTogUG9zdENvbmRpdGlvbk1vZGUuQWxsb3csXG4gICAgICAgIG9uRmluaXNoOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0ZWQ6JywgZGF0YSk7XG4gICAgICAgICAgZmV0Y2hHYW1lU3RhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyBnYW1lOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdGFrZVNob3RzID0gYXN5bmMgKHNob3RzOiBib29sZWFuW10pID0+IHtcbiAgICBpZiAoIXVzZXJEYXRhKSByZXR1cm47XG5cbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgXG4gICAgaWYgKERFTU9fTU9ERSkge1xuICAgICAgLy8gRGVtbyBtb2RlIC0gc2ltdWxhdGUgYmxvY2tjaGFpbiBpbnRlcmFjdGlvblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZWRpY3Rpb25zTWF0Y2ggPSBKU09OLnN0cmluZ2lmeShkZW1vR2FtZVN0YXRlLnByZWRpY3Rpb25zKSA9PT0gSlNPTi5zdHJpbmdpZnkoc2hvdHMpO1xuICAgICAgICBjb25zdCBuZXdCYWxhbmNlID0gcHJlZGljdGlvbnNNYXRjaCA/IGRlbW9HYW1lU3RhdGUuYmFsYW5jZSArIDEwMDAwMDAgOiBkZW1vR2FtZVN0YXRlLmJhbGFuY2U7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgcHJlZGljdGlvbnM6IGRlbW9HYW1lU3RhdGUucHJlZGljdGlvbnMsXG4gICAgICAgICAgc2hvdHMsXG4gICAgICAgICAgY29tcGxldGVkOiB0cnVlLFxuICAgICAgICAgIHByZWRpY3Rpb25zTWF0Y2hlZDogcHJlZGljdGlvbnNNYXRjaCxcbiAgICAgICAgICBiYWxhbmNlOiBuZXdCYWxhbmNlLFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgc2V0RGVtb0dhbWVTdGF0ZShuZXdHYW1lU3RhdGUpO1xuICAgICAgICBzZXRHYW1lU3RhdGUobmV3R2FtZVN0YXRlKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcmVkaWN0aW9uc01hdGNoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0RlbW86IFBlcmZlY3QgcHJlZGljdGlvbnMhIFlvdSBlYXJuZWQgMSBTVFggdG9rZW4hJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0RlbW86IEdhbWUgY29tcGxldGVkLCBidXQgcHJlZGljdGlvbnMgZGlkblxcJ3QgbWF0Y2guJyk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmdW5jdGlvbkFyZ3MgPSBbXG4gICAgICAgIGxpc3RDVihzaG90cy5tYXAocyA9PiBib29sQ1YocykpKVxuICAgICAgXTtcblxuICAgICAgYXdhaXQgb3BlbkNvbnRyYWN0Q2FsbCh7XG4gICAgICAgIG5ldHdvcmssXG4gICAgICAgIGFuY2hvck1vZGU6IEFuY2hvck1vZGUuQW55LFxuICAgICAgICBjb250cmFjdEFkZHJlc3MsXG4gICAgICAgIGNvbnRyYWN0TmFtZSxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAndGFrZS1zaG90cycsXG4gICAgICAgIGZ1bmN0aW9uQXJncyxcbiAgICAgICAgcG9zdENvbmRpdGlvbk1vZGU6IFBvc3RDb25kaXRpb25Nb2RlLkFsbG93LFxuICAgICAgICBvbkZpbmlzaDogKGRhdGEpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2hvdHMgdGFrZW46JywgZGF0YSk7XG4gICAgICAgICAgZmV0Y2hHYW1lU3RhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0YWtpbmcgc2hvdHM6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZXNldEdhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyRGF0YSkgcmV0dXJuO1xuXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIGlmIChERU1PX01PREUpIHtcbiAgICAgIC8vIERlbW8gbW9kZSAtIHJlc2V0IGdhbWUgc3RhdGVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXREZW1vR2FtZVN0YXRlKHtcbiAgICAgICAgICBwcmVkaWN0aW9uczogW10sXG4gICAgICAgICAgc2hvdHM6IFtdLFxuICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgcHJlZGljdGlvbnNNYXRjaGVkOiBmYWxzZSxcbiAgICAgICAgICBiYWxhbmNlOiBkZW1vR2FtZVN0YXRlLmJhbGFuY2UsXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRHYW1lU3RhdGUoe1xuICAgICAgICAgIHByZWRpY3Rpb25zOiBbXSxcbiAgICAgICAgICBzaG90czogW10sXG4gICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBwcmVkaWN0aW9uc01hdGNoZWQ6IGZhbHNlLFxuICAgICAgICAgIGJhbGFuY2U6IGRlbW9HYW1lU3RhdGUuYmFsYW5jZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdEZW1vOiBHYW1lIHJlc2V0IScpO1xuICAgICAgfSwgNTAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgb3BlbkNvbnRyYWN0Q2FsbCh7XG4gICAgICAgIG5ldHdvcmssXG4gICAgICAgIGFuY2hvck1vZGU6IEFuY2hvck1vZGUuQW55LFxuICAgICAgICBjb250cmFjdEFkZHJlc3MsXG4gICAgICAgIGNvbnRyYWN0TmFtZSxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAncmVzZXQtZ2FtZScsXG4gICAgICAgIGZ1bmN0aW9uQXJnczogW10sXG4gICAgICAgIHBvc3RDb25kaXRpb25Nb2RlOiBQb3N0Q29uZGl0aW9uTW9kZS5BbGxvdyxcbiAgICAgICAgb25GaW5pc2g6IChkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgcmVzZXQ6JywgZGF0YSk7XG4gICAgICAgICAgZmV0Y2hHYW1lU3RhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNldHRpbmcgZ2FtZTonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZldGNoR2FtZVN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlckRhdGEpIHJldHVybjtcblxuICAgIGlmIChERU1PX01PREUpIHtcbiAgICAgIC8vIERlbW8gbW9kZSAtIHVzZSBsb2NhbCBzdGF0ZVxuICAgICAgc2V0R2FtZVN0YXRlKGRlbW9HYW1lU3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsUmVhZE9ubHlGdW5jdGlvbih7XG4gICAgICAgIG5ldHdvcmssXG4gICAgICAgIGNvbnRyYWN0QWRkcmVzcyxcbiAgICAgICAgY29udHJhY3ROYW1lLFxuICAgICAgICBmdW5jdGlvbk5hbWU6ICdnZXQtZ2FtZS1zdGF0cycsXG4gICAgICAgIGZ1bmN0aW9uQXJnczogW3ByaW5jaXBhbENWKHVzZXJEYXRhLnByb2ZpbGUuc3R4QWRkcmVzcy50ZXN0bmV0KV0sXG4gICAgICAgIHNlbmRlckFkZHJlc3M6IHVzZXJEYXRhLnByb2ZpbGUuc3R4QWRkcmVzcy50ZXN0bmV0LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGdhbWVEYXRhID0gY3ZUb0pTT04ocmVzdWx0KTtcbiAgICAgIGlmIChnYW1lRGF0YS5zdWNjZXNzICYmIGdhbWVEYXRhLnZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBnYW1lRGF0YS52YWx1ZTtcbiAgICAgICAgc2V0R2FtZVN0YXRlKHtcbiAgICAgICAgICBwcmVkaWN0aW9uczogZGF0YS5wcmVkaWN0aW9ucz8udmFsdWU/Lm1hcCgocDogYW55KSA9PiBwLnZhbHVlKSB8fCBbXSxcbiAgICAgICAgICBzaG90czogZGF0YS5zaG90cz8udmFsdWU/Lm1hcCgoczogYW55KSA9PiBzLnZhbHVlKSB8fCBbXSxcbiAgICAgICAgICBjb21wbGV0ZWQ6IGRhdGEuY29tcGxldGVkPy52YWx1ZSB8fCBmYWxzZSxcbiAgICAgICAgICBwcmVkaWN0aW9uc01hdGNoZWQ6IGRhdGFbJ3ByZWRpY3Rpb25zLW1hdGNoZWQnXT8udmFsdWUgfHwgZmFsc2UsXG4gICAgICAgICAgYmFsYW5jZTogTnVtYmVyKGRhdGEuYmFsYW5jZT8udmFsdWUpIHx8IDAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBnYW1lIHN0YXRlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlckRhdGEpIHtcbiAgICAgIGlmIChERU1PX01PREUpIHtcbiAgICAgICAgc2V0R2FtZVN0YXRlKGRlbW9HYW1lU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hHYW1lU3RhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1c2VyRGF0YSwgZGVtb0dhbWVTdGF0ZV0pO1xuXG4gIHJldHVybiB7XG4gICAgdXNlckRhdGEsXG4gICAgaXNMb2FkaW5nLFxuICAgIGdhbWVTdGF0ZSxcbiAgICBjb25uZWN0V2FsbGV0LFxuICAgIGRpc2Nvbm5lY3RXYWxsZXQsXG4gICAgc3RhcnRHYW1lLFxuICAgIHRha2VTaG90cyxcbiAgICByZXNldEdhbWUsXG4gICAgZmV0Y2hHYW1lU3RhdGUsXG4gICAgaXNDb25uZWN0ZWQ6ICEhdXNlckRhdGEsXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQXBwQ29uZmlnIiwiVXNlclNlc3Npb24iLCJzaG93Q29ubmVjdCIsIm9wZW5Db250cmFjdENhbGwiLCJTdGFja3NUZXN0bmV0IiwiQW5jaG9yTW9kZSIsIlBvc3RDb25kaXRpb25Nb2RlIiwibGlzdENWIiwiYm9vbENWIiwicHJpbmNpcGFsQ1YiLCJjYWxsUmVhZE9ubHlGdW5jdGlvbiIsImN2VG9KU09OIiwiYXBwQ29uZmlnIiwidXNlclNlc3Npb24iLCJERU1PX01PREUiLCJ1c2VTdGFja3NDb25uZWN0IiwidXNlckRhdGEiLCJzZXRVc2VyRGF0YSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsIm5ldHdvcmsiLCJjb250cmFjdEFkZHJlc3MiLCJjb250cmFjdE5hbWUiLCJkZW1vR2FtZVN0YXRlIiwic2V0RGVtb0dhbWVTdGF0ZSIsInByZWRpY3Rpb25zIiwic2hvdHMiLCJjb21wbGV0ZWQiLCJwcmVkaWN0aW9uc01hdGNoZWQiLCJiYWxhbmNlIiwiaXNTaWduSW5QZW5kaW5nIiwiaGFuZGxlUGVuZGluZ1NpZ25JbiIsInRoZW4iLCJpc1VzZXJTaWduZWRJbiIsImxvYWRVc2VyRGF0YSIsImNvbm5lY3RXYWxsZXQiLCJhcHBEZXRhaWxzIiwibmFtZSIsImljb24iLCJyZWRpcmVjdFRvIiwib25GaW5pc2giLCJkaXNjb25uZWN0V2FsbGV0Iiwic2lnblVzZXJPdXQiLCJzdGFydEdhbWUiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsImxvZyIsImZ1bmN0aW9uQXJncyIsIm1hcCIsInAiLCJhbmNob3JNb2RlIiwiQW55IiwiZnVuY3Rpb25OYW1lIiwicG9zdENvbmRpdGlvbk1vZGUiLCJBbGxvdyIsImRhdGEiLCJmZXRjaEdhbWVTdGF0ZSIsImVycm9yIiwidGFrZVNob3RzIiwicHJlZGljdGlvbnNNYXRjaCIsIkpTT04iLCJzdHJpbmdpZnkiLCJuZXdCYWxhbmNlIiwibmV3R2FtZVN0YXRlIiwicyIsInJlc2V0R2FtZSIsInJlc3VsdCIsInByb2ZpbGUiLCJzdHhBZGRyZXNzIiwidGVzdG5ldCIsInNlbmRlckFkZHJlc3MiLCJnYW1lRGF0YSIsInN1Y2Nlc3MiLCJ2YWx1ZSIsIk51bWJlciIsImlzQ29ubmVjdGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useStacksConnect.ts\n"));

/***/ })

});